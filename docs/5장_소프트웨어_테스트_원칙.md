- 단위 테스트가 필요한 이유
- 소프트웨어 테스트 유형 파악하기
- 블랙박스 테스트와 화이트박스 테스트 비교하기

## 단위 테스트를 하는 이유

단위 테스트의 핵심 목표는 애플리케이션이 예상대로 작동하는지 확인하고 사전에 버그를 찾아 내는 것.

기능 테스트로도 작동을 확인하고 버그를 찾을 수 있지만,

단위 테스트를 수행했을 때 다음과 같은 장점이 있다.

- 기능 테스트만 수행했을 때 보다 테스트 커버리지를 높일 수 있다.
    - 기능 테스트로는 수행하기 어렵거나 불가능한 오류 조건에 대해 쉽게 테스트가 가능하다.
- 팀 생산성이 향상된다
    - 다른 컴포넌트가 준비될 때 까지 기다리지 않고도 테스트된 코드를 전달 할 수 있다.
    - 반면 기능 테스트는 조금 더 단위가 크며, 테스트를 실행하기 전에 전체 애플리케이션 혹은 상당한 부분이 준비되어 있어야 한다.
- 회귀를 사전에 발견하여 디버깅 작업을 줄일 수 있다
    - 통과하는 단위 테스트 묶음은 코드가 제대로 동작하는지 확인해 준다.
    - 기존 소스를 리팩터링하거나 새로운 기능을 추가 또는 수정할 때 개발자에게 확신을 준다
    - 기능 테스트는 유스케이스 ‘어디엔가’ 버그가 숨어 있다는 사실을 알려주지만
      단위 테스트는 특정 메서드가 어떤 이유로 실패했는지 구체적으로 알려준다.
      **⇒ 무엇이 문제인지 찾아내기 위해 몇 시간씩 들여 고생할 필요 없다.**
- 소스를 리팩터링 하거나 변경할 때 개발자에게 확신을 준다
    - 단위 테스트가 없으면 리팩터링을 정당화 하기 어렵다.
- 애플리케이션 기능 구현에 도움을 준다
    - 단위 테스트가 너무 길고 다루기 힘들다면, 일반적으로는 테스트 대상 코드에 설계 문제가 있는 것이며 리팩터링이 필요하다.
    - 테스트 메서드 하나가 너무 많은 기능을 테스트하고 있을 수 있다.
    - 격리된 상태에서 테스트가 기능을 검증하지 못한다는 건 테스트 대상 코드가 충분히 유연하지 못하며 리팩터링이 필요하다는 의미이다.
- 코드의 예상 동작을 문서화할 수 있다.
    - API를 상세하게 설명하는 300쪽 분량의 문서가 있고, 다른 손엔 API 사용 방법에 대한 몇 가지 예제가 있다면, 둘 중 어느 것을 선택하실 건가요?
    - 단위 테스트는 그 자체로 API 사용 예제가 된다.
- 코드 커버리지를 비롯해 다양한 지표를 측정하게 해준다.
    - 단위 테스트는 버튼만 누르면 모든 프로그램이 잘 동작하는지 알려 준다.
    - 단위 테스트는 라인별로 테스트가 실행 되었는지, 되지 않았는지 보여주는 코드 커버리지 지표를 제공한다.
    - 도구를 사용하여 진행한 빌드에서 다음 빌드까지 테스트 통과/실패의 진행 상황도  추적할 수 있다.
    - 테스트 성능을 모니터링하여 성능이 이전 빌드보다 떨어졌다면 테스트가 실패하도록 유도할 수 있다.

## 테스트 유형

- 단위 테스트
    - 소스 코드의 개별 단위를 테스트하여 해당 코드를 사용할 수 있는지 결정하는 소프트웨어 테스트 기법 이다.
    - 개발 과정에서 발생할 수 있는 잠재적 오류로부터 개발자를 보호하는 안전망 역할을 하므로 **코드 변경을 하고자 하는 개발자에게 확신을 줄 수 있다.**
- 통합 테스트
    - 단위 테스트로 개별 클래스나 메서드 테스트가 잘 되었다면,
      다음은 클래스를 다른 메서드나 서비스와 연결하는 과정이 필요하다.
    - 통합테스트는 대상 환경에서 실행 가능한 컴포넌트 간의 상호작용을 테스트하는 것이다.
    - 통합테스트 코드 작성은 개발자가 올바르게 동작하는 객체를 만드는 능력을 향상시키는 데에 큰 도움을 준다.
- 시스템 테스트
    - 시스템이 구체화된 요구 사항을 만족하는지 평가하기 위해 완전한 통합 환경에서 수행하는 테스트를 말한다.
    - 시스템 테스트의 목표는 통합되어있는 단위 간의 불일치를 찾아내는 것이다.
- 인수 테스트
    - 최종 수준의 테스트 단계
    - 애플리케이션이 고객이나 이해관계자가 정의한 목표를 달성하는지 확인하기 위해 사용한다.
    - Given, When, Then 같은 키워드를 사용하여 표현할 수 있다.
    - 결과를 확인하고 ‘비즈니스 목표를 달성하였는가?’ 와 같은 본질적인 질문에 대한 답을 제공한다.

- 블랙박스 테스트
    - 블랙박스 테스트는 시스템의 내부 상태나 동작에 대한 지식이 없을 때 수행한다.
    - 블랙박스 테스트는 정확성을 검증하기 위해 외부적인 시스템 인터페이스를 사용한다.
- 화이트박스 테스트
    - 화이트박스 테스트는 구현에 관한 해박한 지식을 바탕으로 테스트를 만들고 테스트 프로세스를 진행한다.
    - 테스트 프로세스가 다른 구성 요소와 상호작용하는 방식을 알아야한다.
    - GUI를 사용할 수 있을 때까지 기다릴 필요가 없다.

- 사용자 중심 접근
    - 블랙박스 테스트는 먼저 사용자 요구 사항을 해결한다.
- 테스트의 어려움
    - 화이트박스 테스트는 일반적으로 블랙박스 테스트보다 테스트 작성과 실행이 더 쉽지만 개발자가 이를 직접 구현해야 한다는 불편함이 있다.
- 테스트 커버리지
    - 화이트박스 테스트를 이용하면 블랙박스 테스트보다 더 나은 테스트 커버리지를 얻을 수 있다.
    - 반면 블랙박스 테스트는 화이트박스 테스트보다 더 많은 비즈니스적 가치가 있을 수 있다.